{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/network/index.js","webpack:///./src/components/common/Loading/Loading.vue?ebe2","webpack:///./src/common/cookieAPI.js","webpack:///./src/router/index.js","webpack:///./src/network/cartList/index.js","webpack:///./src/store/cartList/module.js","webpack:///./src/store/product/module.js","webpack:///./src/network/login/index.js","webpack:///./src/store/login/module.js","webpack:///./src/network/collection/index.js","webpack:///./src/store/collection/module.js","webpack:///./src/network/history/index.js","webpack:///./src/store/history/module.js","webpack:///./src/network/sort/index.js","webpack:///./src/store/sort/module.js","webpack:///./src/network/userList/index.js","webpack:///./src/store/userData/module.js","webpack:///./src/store/index.js","webpack:///./src/App.vue?571a","webpack:///./src/components/common/Loading/Loading.vue?5198","webpack:///src/components/common/Loading/Loading.vue","webpack:///./src/components/common/Loading/Loading.vue?a580","webpack:///./src/components/common/Loading/Loading.vue","webpack:///src/App.vue","webpack:///./src/App.vue?7d83","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","path","fetch","getCookie","cookie","keyArr","RegExp","exec","valueStartIndex","index","valueEndIndex","indexOf","setCookie","day","date","Date","exp","getTime","setTime","toUTCString","removeCookie","hasCookie","use","routes","component","meta","title","verifyLogin","router","base","beforeEach","to","from","next","originPush","location","this","catch","async","makeRequest","res","json","requestCartList","getCartList","addProduct","shopDetail","productDetail","assign","selected","list","cartList","proIndex","findProductIndex","shopsIid","productIid","shopIndex","findShopIndex","updateCartList","deleteProduct","shopIid","registerNewCartList","username","cartStore","getCartStore","updateCartStore","changeProductProperty","changeShopProperty","getUsername","item","temporaryCartList","JSON","parse","localStorage","getItem","shop","pro","setItem","stringify","namespaced","productNum","skuShow","skuDetail","mutations","state","actions","commit","rootState","product","selectedSkuComb","skuData","selectedNum","getters","proIid","getProduct","dispatch","getShop","productHasNotSelected","isCheckAll","every","reduce","num","price","Number","NaN","topSwipe","coupon","address","serviceArea","showSku","newValue","prop","obj","keys","filter","sku","tree","String","k_s","v","id","previewImgUrl","s1","requestLogin","getIsLogin","login","setLogin","setUsername","logout","removeLogin","isLogin","newUserList","root","userData","userStore","some","password","requestCollection","shopCollection","getShopCollection","productCollection","getProductCollection","addProductCollection","detail","updateProductCollection","removeProductCollection","getProductIndex","registerNewCollection","collectionStore","getCollectionStore","updateCollectionStore","collection","temporaryProductCollection","getTemporaryCollection","temporaryShopCollection","newCollection","newCollectionStore","newProductCollection","requestHistory","getHistory","addHistory","newHistory","history","checkHasRepeat","removeHistory","unshift","updateHistory","registerNewHistory","historyStore","getHistoryStore","updateHistoryStore","historyIndex","temporaryHistory","getTemporaryHistory","newHistoryStore","requestSortList","requestSortContent","sortList","activeKey","newSortList","newKey","requestUserData","getUserStore","userList","getUserList","registerUser","nickname","updateUserStore","find","newUserStore","Store","isLoading","fn","sort","render","_vm","_h","$createElement","_c","_self","attrs","staticRenderFns","directives","rawName","expression","staticClass","props","Boolean","mapActions","cartListActions","historyActions","collectionActions","loginActions","userListActions","sortActions","components","Loading","initRequst","computed","$router","Math","random","methods","config","productionTip","ste","$toast","store","h","App","$mount"],"mappings":"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","file":"js/app.639b7ea6.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2e1a0548\":\"b3ded6d7\",\"chunk-666177f8\":\"c8ebd429\",\"chunk-67bc09c4\":\"a0864743\",\"chunk-67eddad2\":\"ac24d52b\",\"chunk-d4831df2\":\"e16130e4\",\"chunk-d4d1d52c\":\"6a267afb\",\"chunk-e92a5af2\":\"6bf6f51c\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-2e1a0548\":1,\"chunk-666177f8\":1,\"chunk-67bc09c4\":1,\"chunk-67eddad2\":1,\"chunk-d4831df2\":1,\"chunk-d4d1d52c\":1,\"chunk-e92a5af2\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2e1a0548\":\"6bb58dfd\",\"chunk-666177f8\":\"27cde4bb\",\"chunk-67bc09c4\":\"9713776b\",\"chunk-67eddad2\":\"31d8fd9d\",\"chunk-d4831df2\":\"ef7e2c24\",\"chunk-d4d1d52c\":\"6d2ed8fc\",\"chunk-e92a5af2\":\"5f29d9fa\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export function request(path) {\r\n\treturn fetch(\r\n\t\t'https://www.fastmock.site/mock/e0aa78bb6f2b4085b9583294d7dd1e13/JD' +\r\n\t\t\tpath\r\n\t);\r\n}\r\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/style-vw-loader/index.js??ref--0-2!./Loading.vue?vue&type=style&index=0&id=7489d258&scoped=true&lang=less&\"","export function getCookie(key) {\r\n\tconst cookie = document.cookie;\r\n\r\n\tconst keyArr = new RegExp(key).exec(cookie);\r\n\r\n\tif (!keyArr) return keyArr;\r\n\r\n\tconst valueStartIndex = keyArr.index + keyArr[0].length + 1;\r\n\r\n\tconst valueEndIndex =\r\n\t\tcookie.indexOf(';', valueStartIndex) > 0\r\n\t\t\t? cookie.indexOf(';', valueStartIndex)\r\n\t\t\t: cookie.length;\r\n\r\n\treturn cookie.slice(valueStartIndex, valueEndIndex);\r\n}\r\n\r\nexport function setCookie(key, value, day = 0) {\r\n\tconst date = new Date();\r\n\tconst exp = date.getTime() + day * 60 * 60 * 24 * 1000;\r\n\tdate.setTime(exp);\r\n\r\n\tdocument.cookie = `${key}=${value}; expires=${date.toUTCString()}; path=/`;\r\n}\r\n\r\nexport function removeCookie(key) {\r\n\tconst date = new Date(1);\r\n\tconst value = getCookie(key);\r\n\r\n\tdocument.cookie = `${key}=${value};expires=${date.toUTCString()};`;\r\n}\r\n\r\nexport function hasCookie(key) {\r\n\tconst cookie = document.cookie;\r\n\r\n\tconst keyArr = new RegExp(key).exec(cookie);\r\n\r\n\tif (keyArr) return true;\r\n\r\n\treturn false;\r\n}\r\n","import Vue from 'vue';\r\nimport VueRouter from 'vue-router';\r\nimport { hasCookie } from 'common/cookieAPI.js';\r\n\r\nVue.use(VueRouter);\r\n\r\nconst routes = [\r\n\t{\r\n\t\tpath: '/',\r\n\t\tname: 'Home',\r\n\t\tcomponent: () => import('views/Home/Home.vue'),\r\n\t\tmeta: {\r\n\t\t\ttitle: '京东首页',\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tpath: '/sort',\r\n\t\tname: 'Sort',\r\n\t\tcomponent: () => import('views/Sort/Sort.vue'),\r\n\t},\r\n\t{\r\n\t\tpath: '/cart',\r\n\t\tname: 'Cart',\r\n\t\tcomponent: () => import('views/Cart/Cart.vue'),\r\n\t},\r\n\t{\r\n\t\tpath: '/profile',\r\n\t\tname: 'Profile',\r\n\t\tcomponent: () => import('views/Profile/Profile.vue'),\r\n\t\tmeta: {\r\n\t\t\tverifyLogin: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tpath: '/product/:iid',\r\n\t\tname: 'Product',\r\n\t\tcomponent: () => import('views/Product/Product.vue'),\r\n\t},\r\n\t{\r\n\t\tpath: '/login',\r\n\t\tname: 'Login',\r\n\t\tcomponent: () => import('views/Login/Login.vue'),\r\n\t},\r\n\t{\r\n\t\tpath: '/register',\r\n\t\tname: 'Register',\r\n\t\tcomponent: () => import('views/Register/Register.vue'),\r\n\t},\r\n];\r\n\r\nconst router = new VueRouter({\r\n\t// mode: 'history',\r\n\tbase: process.env.BASE_URL,\r\n\troutes,\r\n});\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n\tdocument.title = to.meta.title || '京东超市';\r\n\r\n\t// 路由跳转时的登录验证\r\n\tif (to.meta.verifyLogin) {\r\n\t\tif (hasCookie('isLogin')) {\r\n\t\t\tnext();\r\n\t\t} else {\r\n\t\t\tnext({\r\n\t\t\t\tname: 'Login',\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tnext();\r\n});\r\n\r\n// 防止路由连续点击两次的报错\r\nconst originPush = VueRouter.prototype.push;\r\nVueRouter.prototype.push = function push(location) {\r\n\t// 加上catch捕捉错误就不会报错\r\n\treturn originPush.call(this, location).catch((err) => err);\r\n};\r\n\r\nexport default router;\r\n","import { request } from '../index.js';\r\nimport { hasCookie } from 'common/cookieAPI.js';\r\n\r\nif (!localStorage.getItem('cartStore')) {\r\n\tlocalStorage.setItem('cartStore', '[]');\r\n}\r\n\r\nif (!localStorage.getItem('temporaryCartList')) {\r\n\tlocalStorage.setItem('temporaryCartList', '[]');\r\n}\r\n\r\n// 模拟请求函数\r\nasync function makeRequest() {\r\n\treturn await request('/updateCartList')\r\n\t\t.then((res) => res.json())\r\n\t\t.catch((e) => {\r\n\t\t\tthrow new Error(e);\r\n\t\t});\r\n}\r\n\r\n/**\r\n * 模拟API\r\n */\r\n\r\n// 获取cartList数据\r\nexport async function requestCartList() {\r\n\tawait makeRequest();\r\n\r\n\treturn getCartList();\r\n}\r\n\r\n// 添加商品\r\nexport async function addProduct(shopDetail, productDetail) {\r\n\t// 设置一些默认的选项\r\n\tproductDetail = Object.assign(\r\n\t\t{\r\n\t\t\tselected: true,\r\n\t\t},\r\n\t\tproductDetail\r\n\t);\r\n\tshopDetail = Object.assign(\r\n\t\t{\r\n\t\t\tselected: true,\r\n\t\t\tlist: [productDetail],\r\n\t\t},\r\n\t\tshopDetail\r\n\t);\r\n\r\n\tconst { cartList } = getCartList();\r\n\r\n\tconst { proIndex } = findProductIndex(\r\n\t\tshopDetail.shopsIid,\r\n\t\tproductDetail.productIid\r\n\t);\r\n\tconst { shopIndex } = findShopIndex(shopDetail.shopsIid);\r\n\r\n\t// 判断一下购物车里是否有相同的商品\r\n\tif (proIndex) {\r\n\t\t// 有的或直接更新该商品的数据\r\n\t\tcartList[shopIndex].list[proIndex] = productDetail;\r\n\t} else if (shopIndex) {\r\n\t\t// 如果是有相同的商铺 就添加到商铺的列表下\r\n\t\tcartList[shopIndex].list.push(productDetail);\r\n\t} else {\r\n\t\t// 什么都没有就添加新的列表\r\n\t\tcartList.push(shopDetail);\r\n\t}\r\n\r\n\treturn await updateCartList(cartList);\r\n}\r\n\r\n// 删除商品\r\nexport async function deleteProduct(shopIid, productIid) {\r\n\tconst { cartList } = getCartList();\r\n\tconst { shopIndex, proIndex } = findProductIndex(shopIid, productIid);\r\n\r\n\tcartList[shopIndex].list.splice(proIndex, 1);\r\n\r\n\t// 当前店铺下没有商品时 执行垃圾回收机制\r\n\tif (!cartList[shopIndex].list.length) {\r\n\t\tcartList.splice(shopIndex, 1);\r\n\t}\r\n\r\n\treturn await updateCartList(cartList);\r\n}\r\n\r\n// 注册新用户的购物车列表\r\nexport async function registerNewCartList(username) {\r\n\tconst cartStore = getCartStore();\r\n\r\n\tcartStore.push({\r\n\t\tusername,\r\n\t\tcartList: [],\r\n\t});\r\n\r\n\tawait updateCartStore(cartStore);\r\n\r\n\treturn getCartList();\r\n}\r\n\r\n// 更新商品数据\r\nexport async function changeProductProperty(key, value, shopIid, productIid) {\r\n\tconst { cartList } = getCartList();\r\n\r\n\tconst { shopIndex, proIndex } = findProductIndex(shopIid, productIid);\r\n\r\n\tif (!shopIndex && !proIndex) {\r\n\t\tthrow new Error('没有此商品');\r\n\t}\r\n\r\n\tcartList[shopIndex].list[proIndex][key] = value;\r\n\r\n\treturn await updateCartList(cartList);\r\n}\r\n\r\n// 更新商家数据\r\nexport async function changeShopProperty(key, value, shopIid) {\r\n\tconst { cartList } = getCartList();\r\n\tconst { shopIndex } = findShopIndex(shopIid);\r\n\r\n\tcartList[shopIndex][key] = value;\r\n\r\n\treturn await updateCartList(cartList);\r\n}\r\n\r\nexport async function getProduct(shopIid, productIid) {\r\n\tawait makeRequest();\r\n\r\n\tconst { cartList } = getCartList();\r\n\tconst { shopIndex, proIndex } = findProductIndex(shopIid, productIid);\r\n\r\n\treturn cartList[shopIndex].list[proIndex];\r\n}\r\n\r\n/**\r\n * 以下是工具函数\r\n */\r\n\r\n// 获取当前用户的cartList数据\r\nfunction getCartList() {\r\n\tconst username = getUsername();\r\n\tconst cartStore = getCartStore();\r\n\r\n\tfor (const index in cartStore) {\r\n\t\tconst item = cartStore[index];\r\n\r\n\t\tif (item.username === username) {\r\n\t\t\treturn {\r\n\t\t\t\tcartList: item.cartList,\r\n\t\t\t\tindex,\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\tconst temporaryCartList = JSON.parse(\r\n\t\tlocalStorage.getItem('temporaryCartList')\r\n\t);\r\n\r\n\t// 未登录状态返回临时存储文件\r\n\treturn {\r\n\t\tcartList: temporaryCartList,\r\n\t\tindex: 0,\r\n\t};\r\n}\r\n\r\n// 获取cartStore的数据\r\nfunction getCartStore() {\r\n\treturn JSON.parse(localStorage.getItem('cartStore'));\r\n}\r\n\r\nfunction getTemporaryCartList() {\r\n\treturn JSON.parse(localStorage.getItem('temporaryCartList'));\r\n}\r\n\r\n// 获取当前用户名\r\nfunction getUsername() {\r\n\treturn localStorage.getItem('username');\r\n}\r\n\r\n// 找到指定的商品数据\r\nfunction findProductIndex(shopIid, productIid) {\r\n\tconst { cartList } = getCartList();\r\n\r\n\tfor (const shopIndex in cartList) {\r\n\t\tconst shop = cartList[shopIndex];\r\n\r\n\t\tif (shop.shopsIid === shopIid) {\r\n\t\t\tfor (const proIndex in shop.list) {\r\n\t\t\t\tconst pro = shop.list[proIndex];\r\n\r\n\t\t\t\tif (pro.productIid === productIid) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tshopIndex,\r\n\t\t\t\t\t\tproIndex,\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn {};\r\n}\r\n\r\n// 找到指定的商家数据\r\nfunction findShopIndex(shopIid) {\r\n\tconst { cartList } = getCartList();\r\n\r\n\tfor (const shopIndex in cartList) {\r\n\t\tconst shop = cartList[shopIndex];\r\n\r\n\t\tif (shop.shopsIid === shopIid) {\r\n\t\t\treturn {\r\n\t\t\t\tshopIndex,\r\n\t\t\t\tshop,\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\treturn {};\r\n}\r\n\r\n// 更新cartList的数据\r\nasync function updateCartList(cartList) {\r\n\tawait makeRequest();\r\n\r\n\t// 未登录状态\r\n\tif (!hasCookie('isLogin')) {\r\n\t\tlocalStorage.setItem('temporaryCartList', JSON.stringify(cartList));\r\n\t\treturn getCartList();\r\n\t}\r\n\r\n\tconst cartStore = getCartStore();\r\n\tconst { index } = getCartList();\r\n\r\n\tcartStore[index].cartList = cartList;\r\n\r\n\tlocalStorage.setItem('cartStore', JSON.stringify(cartStore));\r\n\r\n\treturn getCartList();\r\n}\r\n\r\n// 更新cartStore数据\r\nasync function updateCartStore(cartStore) {\r\n\tawait makeRequest();\r\n\r\n\tlocalStorage.setItem('cartStore', JSON.stringify(cartStore));\r\n\r\n\treturn getCartStore();\r\n}\r\n","import {\r\n\taddProduct,\r\n\trequestCartList,\r\n\tchangeProductProperty,\r\n\tchangeShopProperty,\r\n\tdeleteProduct,\r\n\tregisterNewCartList,\r\n} from 'network/cartList/index.js';\r\n\r\nexport default {\r\n\tnamespaced: true,\r\n\r\n\tstate() {\r\n\t\treturn {\r\n\t\t\tcartList: [],\r\n\t\t\tproductNum: 0,\r\n\t\t\tindex: '',\r\n\t\t\tskuShow: false,\r\n\t\t\tskuDetail: {},\r\n\t\t};\r\n\t},\r\n\tmutations: {\r\n\t\tupdateCartList(state, cartList) {\r\n\t\t\tstate.cartList = cartList;\r\n\t\t},\r\n\r\n\t\tsetProperty(state, [key, value]) {\r\n\t\t\tstate[key] = value;\r\n\t\t},\r\n\t},\r\n\tactions: {\r\n\t\tasync registerCartList({ commit }, [username]) {\r\n\t\t\tconst { cartList } = await registerNewCartList(username);\r\n\r\n\t\t\tcommit('updateCartList', cartList);\r\n\t\t},\r\n\r\n\t\t// 添加商品\r\n\t\tasync addProduct({\r\n\t\t\tcommit,\r\n\t\t\trootState: {\r\n\t\t\t\tproduct: {\r\n\t\t\t\t\tselectedSkuComb,\r\n\t\t\t\t\tskuData,\r\n\t\t\t\t\tproductIid,\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\tselectedNum,\r\n\t\t\t\t\tshop,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t}) {\r\n\t\t\tconst { cartList } = await addProduct(shop, {\r\n\t\t\t\tselectedSkuComb,\r\n\t\t\t\tskuData,\r\n\t\t\t\tproductIid,\r\n\t\t\t\ttitle,\r\n\t\t\t\tselectedNum,\r\n\t\t\t});\r\n\r\n\t\t\tcommit('updateCartList', cartList);\r\n\t\t},\r\n\r\n\t\t// 删除商品\r\n\t\tasync deleteProduct({ commit }, [shopIid, productIid]) {\r\n\t\t\tconst { cartList } = await deleteProduct(shopIid, productIid);\r\n\r\n\t\t\tcommit('updateCartList', cartList);\r\n\t\t},\r\n\r\n\t\t// 更改商品数据\r\n\t\tasync changeProductProperty(\r\n\t\t\t{ commit },\r\n\t\t\t[key, value, shopIid, productIid]\r\n\t\t) {\r\n\t\t\tconst { cartList } = await changeProductProperty(\r\n\t\t\t\tkey,\r\n\t\t\t\tvalue,\r\n\t\t\t\tshopIid,\r\n\t\t\t\tproductIid\r\n\t\t\t);\r\n\r\n\t\t\tcommit('updateCartList', cartList);\r\n\t\t},\r\n\r\n\t\t// 更改店铺数据\r\n\t\tasync changeShopProperty({ commit }, [key, value, shopIid]) {\r\n\t\t\tconst { cartList } = await changeShopProperty(key, value, shopIid);\r\n\r\n\t\t\tcommit('updateCartList', cartList);\r\n\t\t},\r\n\r\n\t\t// 请求购物车数据\r\n\t\tasync requestCartList({ commit }) {\r\n\t\t\tconst { cartList } = await requestCartList();\r\n\r\n\t\t\tcommit('updateCartList', cartList);\r\n\t\t},\r\n\r\n\t\t// 打开购物车商品sku弹窗\r\n\t\tchangeSkuDetail({ commit, getters }, [shopIid, proIid] = []) {\r\n\t\t\tconst {\r\n\t\t\t\tshop,\r\n\t\t\t\tpro: { skuData, productIid, selectedSkuComb },\r\n\t\t\t} = getters.getProduct(shopIid, proIid);\r\n\r\n\t\t\tcommit('setProperty', [\r\n\t\t\t\t'skuDetail',\r\n\t\t\t\t{\r\n\t\t\t\t\tskuData,\r\n\t\t\t\t\tproductIid,\r\n\t\t\t\t\tselectedSkuComb,\r\n\t\t\t\t\tshopIid: shop.shopsIid,\r\n\t\t\t\t},\r\n\t\t\t]);\r\n\t\t},\r\n\r\n\t\t// 更改商铺的选中\r\n\t\tasync changeShopSelected(\r\n\t\t\t{ commit, dispatch, getters },\r\n\t\t\t[shopIid, value]\r\n\t\t) {\r\n\t\t\tawait dispatch('changeShopProperty', ['selected', value, shopIid]);\r\n\r\n\t\t\tconst { shop } = getters.getShop(shopIid);\r\n\r\n\t\t\t// 根据商铺的选择 全选或者取消子商品\r\n\t\t\tfor (const pro of shop.list) {\r\n\t\t\t\tpro.selected = shop.selected;\r\n\t\t\t}\r\n\r\n\t\t\tconst { cartList } = await changeShopProperty(\r\n\t\t\t\t'list',\r\n\t\t\t\tshop.list,\r\n\t\t\t\tshopIid\r\n\t\t\t);\r\n\r\n\t\t\tcommit('updateCartList', cartList);\r\n\t\t},\r\n\r\n\t\t// 更改商品的选中\r\n\t\tasync changeProductSelected(\r\n\t\t\t{ dispatch, getters },\r\n\t\t\t[shopIid, productIid, value]\r\n\t\t) {\r\n\t\t\tawait dispatch('changeProductProperty', [\r\n\t\t\t\t'selected',\r\n\t\t\t\tvalue,\r\n\t\t\t\tshopIid,\r\n\t\t\t\tproductIid,\r\n\t\t\t]);\r\n\r\n\t\t\tconst { shop } = getters.getShop(shopIid);\r\n\r\n\t\t\t// 如果此商品是商铺内的第一个商品 将商品的选中变为true\r\n\t\t\tif (!shop.selected) {\r\n\t\t\t\tawait dispatch('changeShopProperty', [\r\n\t\t\t\t\t'selected',\r\n\t\t\t\t\ttrue,\r\n\t\t\t\t\tshopIid,\r\n\t\t\t\t]);\r\n\t\t\t}\r\n\r\n\t\t\t// 如果商铺内没有选中的商品 将商品的选中变为false\r\n\t\t\tif (getters.productHasNotSelected(shopIid)) {\r\n\t\t\t\tawait dispatch('changeShopProperty', [\r\n\t\t\t\t\t'selected',\r\n\t\t\t\t\tfalse,\r\n\t\t\t\t\tshopIid,\r\n\t\t\t\t]);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// 全选\r\n\t\tasync checkAll({ dispatch, getters, state: { cartList } }) {\r\n\t\t\tfor (const shop of cartList) {\r\n\t\t\t\tawait dispatch('changeShopSelected', [\r\n\t\t\t\t\tshop.shopsIid,\r\n\t\t\t\t\t!getters.isCheckAll,\r\n\t\t\t\t]);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tgetters: {\r\n\t\tisCheckAll({ cartList }) {\r\n\t\t\tif (!cartList || !cartList.length) return false;\r\n\r\n\t\t\treturn cartList.every(({ list }) =>\r\n\t\t\t\tlist.every(({ selected }) => selected)\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\tproductTotal({ cartList }) {\r\n\t\t\tif (!cartList || !cartList.length) return 0;\r\n\r\n\t\t\treturn cartList.reduce((num, { list }) => {\r\n\t\t\t\treturn list.reduce(\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\tnum,\r\n\t\t\t\t\t\t{ selected, selectedSkuComb: { price }, selectedNum }\r\n\t\t\t\t\t) => {\r\n\t\t\t\t\t\tif (selected) return num + Number(price) * selectedNum;\r\n\r\n\t\t\t\t\t\treturn num;\r\n\t\t\t\t\t},\r\n\t\t\t\t\t0\r\n\t\t\t\t);\r\n\t\t\t}, 0);\r\n\t\t},\r\n\r\n\t\tgetProductNumber({ cartList }) {\r\n\t\t\treturn cartList.reduce((num, { list }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\tnum +\r\n\t\t\t\t\tlist.reduce((num, { selected }) => {\r\n\t\t\t\t\t\treturn num + 1;\r\n\t\t\t\t\t}, 0)\r\n\t\t\t\t);\r\n\t\t\t}, 0);\r\n\t\t},\r\n\r\n\t\tgetProduct({ cartList }) {\r\n\t\t\treturn (shopIid, proIid) => {\r\n\t\t\t\tfor (const shopIndex in cartList) {\r\n\t\t\t\t\tconst shop = cartList[shopIndex];\r\n\r\n\t\t\t\t\tif (shop.shopsIid === shopIid) {\r\n\t\t\t\t\t\tfor (const proIndex in shop.list) {\r\n\t\t\t\t\t\t\tconst pro = shop.list[proIndex];\r\n\r\n\t\t\t\t\t\t\tif (pro.productIid === proIid) {\r\n\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\tshopIndex,\r\n\t\t\t\t\t\t\t\t\tshop,\r\n\t\t\t\t\t\t\t\t\tproIndex,\r\n\t\t\t\t\t\t\t\t\tpro,\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn {};\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tgetShop({ cartList }) {\r\n\t\t\treturn (shopIid) => {\r\n\t\t\t\tfor (const shopIndex in cartList) {\r\n\t\t\t\t\tconst shop = cartList[shopIndex];\r\n\r\n\t\t\t\t\tif (shop.shopsIid === shopIid) {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tshopIndex,\r\n\t\t\t\t\t\t\tshop,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn {};\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tproductHasAllSelected(state, getters) {\r\n\t\t\treturn (shopIid) => {\r\n\t\t\t\tconst { shop } = getters.getShop(shopIid);\r\n\r\n\t\t\t\treturn shop.list.every(({ selected }) => selected);\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tproductHasNotSelected(state, getters) {\r\n\t\t\treturn (shopIid) => {\r\n\t\t\t\tconst { shop } = getters.getShop(shopIid);\r\n\r\n\t\t\t\treturn shop.list.every(({ selected }) => !selected);\r\n\t\t\t};\r\n\t\t},\r\n\t},\r\n};\r\n","export default {\r\n\tnamespaced: true,\r\n\r\n\tstate() {\r\n\t\treturn {\r\n\t\t\tselectedSkuComb: {},\r\n\t\t\tselectedNum: 1,\r\n\t\t\tproductIid: NaN,\r\n\t\t\ttopSwipe: [],\r\n\t\t\tprice: {},\r\n\t\t\ttitle: {},\r\n\t\t\tcoupon: {},\r\n\t\t\tskuData: {},\r\n\t\t\taddress: {},\r\n\t\t\tserviceArea: [],\r\n\t\t\tshop: {},\r\n\t\t\tshowSku: false,\r\n\t\t};\r\n\t},\r\n\tmutations: {\r\n\t\tupdateSelectedSkuComb(state, newValue) {\r\n\t\t\tstate.selectedSkuComb = newValue;\r\n\t\t},\r\n\t\tupdateSelectedNum(state, newValue) {\r\n\t\t\tstate.selectedNum = newValue;\r\n\t\t},\r\n\t\tchangeShowSku(state, value) {\r\n\t\t\tstate.showSku = value;\r\n\t\t},\r\n\r\n\t\tchangeProperty(state, [key, value]) {\r\n\t\t\tstate[key] = value;\r\n\t\t},\r\n\r\n\t\taddState(state, newValue) {\r\n\t\t\tfor (const prop in newValue) {\r\n\t\t\t\tstate[prop] = newValue[prop];\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tactions: {\r\n\t\tfindSelectedImage({ state: { selectedSkuComb, skuData } }) {\r\n\t\t\tconst obj = selectedSkuComb;\r\n\r\n\t\t\tif (!obj) return;\r\n\r\n\t\t\tconst key = Object.keys(obj).filter((item) => item === 's1')[0];\r\n\t\t\tconst value = obj[key];\r\n\r\n\t\t\tfor (const prop of skuData.sku.tree) {\r\n\t\t\t\tif (String(prop.k_s) === key) {\r\n\t\t\t\t\tfor (const v of prop.v) {\r\n\t\t\t\t\t\tif (v.id === value) {\r\n\t\t\t\t\t\t\treturn v.previewImgUrl;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tgetters: {\r\n\t\tgetSelectedImage({ selectedSkuComb: { s1 }, skuData }) {\r\n\t\t\tif (!Object.keys(skuData).length) return;\r\n\r\n\t\t\tconst value = skuData.sku.tree[0].v;\r\n\r\n\t\t\tfor (const item of value) {\r\n\t\t\t\tif (item.id === s1) {\r\n\t\t\t\t\treturn item.previewImgUrl;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n};\r\n","import { request } from '../index.js';\r\nimport {\r\n\thasCookie,\r\n\tremoveCookie,\r\n\tsetCookie,\r\n\tgetCookie,\r\n} from 'common/cookieAPI.js';\r\n\r\n// 模拟请求函数\r\nasync function makeRequest() {\r\n\treturn await request('/updateLogin')\r\n\t\t.then((res) => res.json())\r\n\t\t.catch((e) => {\r\n\t\t\tthrow new Error(e);\r\n\t\t});\r\n}\r\n\r\n/**\r\n * 模拟API\r\n */\r\nexport async function requestLogin() {\r\n\treturn getIsLogin();\r\n}\r\n\r\nexport async function login(username) {\r\n\tawait makeRequest();\r\n\r\n\tsetLogin('true');\r\n\r\n\tsetUsername(username);\r\n\r\n\treturn getIsLogin();\r\n}\r\n\r\n// 删除完后需要reload\r\nexport async function logout() {\r\n\tawait makeRequest();\r\n\r\n\tremoveLogin();\r\n\r\n\tsetUsername('');\r\n\r\n\treturn getIsLogin();\r\n}\r\n\r\n/**\r\n * 工具函数\r\n */\r\n\r\nfunction getIsLogin() {\r\n\treturn getCookie('isLogin');\r\n}\r\n\r\nfunction setLogin(value) {\r\n\tsetCookie('isLogin', value, 99999);\r\n}\r\n\r\nfunction removeLogin() {\r\n\tremoveCookie('isLogin');\r\n}\r\n\r\nfunction setUsername(username) {\r\n\tlocalStorage.setItem('username', username);\r\n}\r\n","import { login, logout, requestLogin } from 'network/login/index.js';\r\n\r\nexport default {\r\n\tnamespaced: true,\r\n\r\n\tstate() {\r\n\t\treturn {\r\n\t\t\tisLogin: false,\r\n\t\t};\r\n\t},\r\n\tmutations: {\r\n\t\tupdateIsLogin(state, value) {\r\n\t\t\tstate.isLogin = value;\r\n\t\t},\r\n\t},\r\n\tactions: {\r\n\t\t// 请求isLogin信息\r\n\t\tasync requestLogin({ commit }) {\r\n\t\t\tcommit('updateIsLogin', await requestLogin());\r\n\t\t},\r\n\r\n\t\t// 注册\r\n\t\tasync register({ dispatch }, newUserList) {\r\n\t\t\t// 注册购物车，历史记录什么的\r\n\r\n\t\t\tawait dispatch('userData/registerNewUser', newUserList, {\r\n\t\t\t\troot: true,\r\n\t\t\t});\r\n\r\n\t\t\tawait dispatch(\r\n\t\t\t\t'cartList/registerCartList',\r\n\t\t\t\t[newUserList.username],\r\n\t\t\t\t{\r\n\t\t\t\t\troot: true,\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tawait dispatch(\r\n\t\t\t\t'collection/registerNewCollection',\r\n\t\t\t\t[newUserList.username],\r\n\t\t\t\t{\r\n\t\t\t\t\troot: true,\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tawait dispatch(\r\n\t\t\t\t'history/registerNewHistory',\r\n\t\t\t\t[newUserList.username],\r\n\t\t\t\t{\r\n\t\t\t\t\troot: true,\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\t// 注册完后立刻登录\r\n\t\t\tawait dispatch('login', newUserList.username);\r\n\t\t},\r\n\r\n\t\t// 登录\r\n\t\tasync login({ commit, dispatch }, username) {\r\n\t\t\tawait dispatch(\r\n\t\t\t\t'changeIsLoading',\r\n\t\t\t\tasync () => {\r\n\t\t\t\t\tcommit('updateIsLogin', await login(username));\r\n\t\t\t\t},\r\n\t\t\t\t{ root: true }\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\t// 登出\r\n\t\tasync logout({ commit, dispatch }) {\r\n\t\t\tawait dispatch(\r\n\t\t\t\t'changeIsLoading',\r\n\t\t\t\tasync () => {\r\n\t\t\t\t\tcommit('updateIsLogin', await logout());\r\n\t\t\t\t},\r\n\t\t\t\t{ root: true }\r\n\t\t\t);\r\n\t\t},\r\n\t},\r\n\tgetters: {\r\n\t\t// 检查是否有重复的属性\r\n\t\tcheckHasRepeat(state, getters, { userData: { userStore } }) {\r\n\t\t\treturn (key, value) => {\r\n\t\t\t\treturn userStore.some((item) => {\r\n\t\t\t\t\treturn item[key] === value;\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t// 检查是否没有重读的属性\r\n\t\tcheckHasNoRepeat(state, getters, { userData: { userStore } }) {\r\n\t\t\treturn (key, value) => {\r\n\t\t\t\treturn userStore.every((item) => item[key] !== value);\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t// 登录的密码检测\r\n\t\tcheckPassword(state, getters, { userData: { userStore } }) {\r\n\t\t\treturn (username, password) => {\r\n\t\t\t\treturn userStore.some((item) => {\r\n\t\t\t\t\tif (item.username === username) {\r\n\t\t\t\t\t\treturn item.password === password;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t},\r\n\t},\r\n};\r\n","import { hasCookie } from 'common/cookieAPI';\r\nimport { request } from '../index.js';\r\n\r\nif (!JSON.parse(localStorage.getItem('collectionStore'))) {\r\n\tlocalStorage.setItem('collectionStore', '[]');\r\n}\r\n\r\nif (!JSON.parse(localStorage.getItem('temporaryCollection'))) {\r\n\tlocalStorage.setItem(\r\n\t\t'temporaryCollection',\r\n\t\tJSON.stringify([\r\n\t\t\t{\r\n\t\t\t\tshopCollection: [],\r\n\t\t\t\tproductCollection: [],\r\n\t\t\t},\r\n\t\t])\r\n\t);\r\n}\r\n\r\n// 模拟请求函数\r\nasync function makeRequest() {\r\n\treturn await request('/updateCollection')\r\n\t\t.then((res) => res.json())\r\n\t\t.catch((e) => {\r\n\t\t\tthrow new Error(e);\r\n\t\t});\r\n}\r\n\r\n/**\r\n * 模拟请求API\r\n */\r\n\r\nexport async function requestCollection() {\r\n\tawait makeRequest();\r\n\r\n\tconst { shopCollection } = getShopCollection();\r\n\r\n\tconst { productCollection } = getProductCollection();\r\n\r\n\treturn {\r\n\t\tshopCollection,\r\n\t\tproductCollection,\r\n\t};\r\n}\r\n\r\nexport async function addProductCollection(detail) {\r\n\tconst { productCollection } = getProductCollection();\r\n\r\n\tproductCollection.push(detail);\r\n\r\n\treturn await updateProductCollection(productCollection);\r\n}\r\n\r\nexport async function addShopCollection(detail) {\r\n\tconst { shopCollection } = getShopCollection();\r\n\r\n\tshopCollection.push(detail);\r\n\r\n\treturn await updateShopCollection(shopCollection);\r\n}\r\n\r\nexport async function removeProductCollection(proIid) {\r\n\tconst index = getProductIndex(proIid);\r\n\tconst { productCollection } = getProductCollection();\r\n\r\n\tproductCollection.splice(index, 1);\r\n\r\n\treturn await updateProductCollection(productCollection);\r\n}\r\n\r\nexport async function registerNewCollection(username) {\r\n\tconst collectionStore = getCollectionStore();\r\n\r\n\tcollectionStore.push({\r\n\t\tusername,\r\n\t\tshopCollection: [],\r\n\t\tproductCollection: [],\r\n\t});\r\n\r\n\treturn await updateCollectionStore(collectionStore);\r\n}\r\n\r\n/**\r\n * 工具函数\r\n */\r\n\r\nfunction getProductCollection() {\r\n\tconst username = getUsername();\r\n\tconst collectionStore = getCollectionStore();\r\n\r\n\tfor (const index in collectionStore) {\r\n\t\tconst collection = collectionStore[index];\r\n\r\n\t\tif (collection.username === username) {\r\n\t\t\treturn {\r\n\t\t\t\tproductCollection: collection.productCollection,\r\n\t\t\t\tindex,\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\tconst temporaryProductCollection = getTemporaryCollection()[0]\r\n\t\t.productCollection;\r\n\r\n\treturn {\r\n\t\tproductCollection: temporaryProductCollection,\r\n\t\tindex: 0,\r\n\t};\r\n}\r\n\r\nfunction getShopCollection() {\r\n\tconst username = getUsername();\r\n\tconst collectionStore = getCollectionStore();\r\n\r\n\tfor (const index in collectionStore) {\r\n\t\tconst collection = collectionStore[index];\r\n\r\n\t\tif (collectionStore.username === username) {\r\n\t\t\treturn {\r\n\t\t\t\tshopCollection: collection.shopCollection,\r\n\t\t\t\tindex,\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\tconst temporaryShopCollection = JSON.parse(\r\n\t\tlocalStorage.getItem('temporaryCollection')\r\n\t)[0].shopCollection;\r\n\r\n\treturn {\r\n\t\tshopCollection: temporaryShopCollection,\r\n\t\tindex: 0,\r\n\t};\r\n}\r\n\r\nfunction getCollectionStore() {\r\n\treturn JSON.parse(localStorage.getItem('collectionStore'));\r\n}\r\n\r\nfunction getTemporaryCollection() {\r\n\treturn JSON.parse(localStorage.getItem('temporaryCollection'));\r\n}\r\n\r\nfunction getUsername() {\r\n\treturn localStorage.getItem('username');\r\n}\r\n\r\nfunction getProductIndex(proIid) {\r\n\tconst collection = getCollectionStore();\r\n\r\n\tfor (const proIndex in collection) {\r\n\t\tconst pro = collection[proIndex];\r\n\r\n\t\tif (Number(pro.productIid) === Number(proIid)) {\r\n\t\t\treturn proIndex;\r\n\t\t}\r\n\t}\r\n\r\n\treturn false;\r\n}\r\n\r\nasync function updateProductCollection(newCollection) {\r\n\tawait makeRequest();\r\n\r\n\tconst { index } = getProductCollection();\r\n\tconst collectionStore = hasCookie('isLogin')\r\n\t\t? getCollectionStore()\r\n\t\t: getTemporaryCollection();\r\n\r\n\tcollectionStore[index].productCollection = newCollection;\r\n\r\n\tif (hasCookie('isLogin')) {\r\n\t\tlocalStorage.setItem(\r\n\t\t\t'collectionStore',\r\n\t\t\tJSON.stringify(collectionStore)\r\n\t\t);\r\n\t} else {\r\n\t\tlocalStorage.setItem(\r\n\t\t\t'temporaryCollection',\r\n\t\t\tJSON.stringify(collectionStore)\r\n\t\t);\r\n\t}\r\n\r\n\treturn getProductCollection();\r\n}\r\n\r\nasync function updateShopCollection(newCollection) {\r\n\tawait makeRequest();\r\n\r\n\tconst { index } = getShopCollection();\r\n\tconst collectionStore = hasCookie('isLogin')\r\n\t\t? getCollectionStore()\r\n\t\t: getTemporaryCollection();\r\n\r\n\tcollectionStore[index].shopCollection = newCollection;\r\n\r\n\tif (!hasCookie('isLogin')) {\r\n\t\tlocalStorage.setItem(\r\n\t\t\t'collectionStore',\r\n\t\t\tJSON.stringify(collectionStore)\r\n\t\t);\r\n\t} else {\r\n\t\tlocalStorage.setItem(\r\n\t\t\t'temporaryCollection',\r\n\t\t\tJSON.stringify(collectionStore)\r\n\t\t);\r\n\t}\r\n\r\n\treturn getShopCollection();\r\n}\r\n\r\nasync function updateCollectionStore(newCollectionStore) {\r\n\tawait makeRequest();\r\n\r\n\tlocalStorage.setItem('collectionStore', JSON.stringify(newCollectionStore));\r\n\r\n\treturn {\r\n\t\tshopCollection: getShopCollection().shopCollection,\r\n\t\tproductCollection: getProductCollection().productCollection,\r\n\t};\r\n}\r\n","import {\r\n\trequestCollection,\r\n\taddProductCollection,\r\n\taddShopCollection,\r\n\tregisterNewCollection,\r\n\tremoveProductCollection,\r\n} from 'network/collection/index.js';\r\n\r\nexport default {\r\n\tnamespaced: true,\r\n\r\n\tstate() {\r\n\t\treturn {\r\n\t\t\tproductCollection: [],\r\n\t\t\tshopCollection: [],\r\n\t\t};\r\n\t},\r\n\tmutations: {\r\n\t\tupdateProductCollection(state, newCollection) {\r\n\t\t\tstate.productCollection = newCollection;\r\n\t\t},\r\n\r\n\t\tupdateShopCollection(state, newCollection) {\r\n\t\t\tstate.shopCollection = newCollection;\r\n\t\t},\r\n\t},\r\n\tactions: {\r\n\t\tasync requestCollection({ commit }) {\r\n\t\t\tconst {\r\n\t\t\t\tshopCollection,\r\n\t\t\t\tproductCollection,\r\n\t\t\t} = await requestCollection();\r\n\r\n\t\t\tcommit('updateProductCollection', productCollection);\r\n\r\n\t\t\tcommit('updateShopCollection', shopCollection);\r\n\t\t},\r\n\r\n\t\tasync addProductCollection({ commit }, newProductCollection) {\r\n\t\t\tconst { productCollection } = await addProductCollection(\r\n\t\t\t\tnewProductCollection\r\n\t\t\t);\r\n\r\n\t\t\tcommit('updateProductCollection', productCollection);\r\n\t\t},\r\n\r\n\t\tasync removeProductCollection({ commit }, proIid) {\r\n\t\t\tconst { productCollection } = await removeProductCollection(proIid);\r\n\r\n\t\t\tcommit('updateProductCollection', productCollection);\r\n\t\t},\r\n\r\n\t\tasync registerNewCollection({ commit }, [username]) {\r\n\t\t\tconst {\r\n\t\t\t\tshopCollection,\r\n\t\t\t\tproductCollection,\r\n\t\t\t} = await registerNewCollection(username);\r\n\r\n\t\t\tcommit('updateProductCollection', productCollection);\r\n\r\n\t\t\tcommit('updateShopCollection', shopCollection);\r\n\t\t},\r\n\t},\r\n\tgetters: {\r\n\t\tshopCollectionLength({ shopCollection }) {\r\n\t\t\treturn shopCollection.length;\r\n\t\t},\r\n\r\n\t\tproductCollectionLength({ productCollection }) {\r\n\t\t\treturn productCollection.length;\r\n\t\t},\r\n\r\n\t\thasProductCollection({ productCollection }) {\r\n\t\t\treturn (proIid) => {\r\n\t\t\t\tfor (const pro of productCollection) {\r\n\t\t\t\t\tif (Number(pro.productIid) === Number(proIid)) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t};\r\n\t\t},\r\n\t},\r\n};\r\n","import { request } from '../index.js';\r\nimport { hasCookie } from 'common/cookieAPI.js';\r\n\r\nif (!localStorage.getItem('historyStore')) {\r\n\tlocalStorage.setItem('historyStore', '[]');\r\n}\r\n\r\nif (!localStorage.getItem('temporaryHistory')) {\r\n\tlocalStorage.setItem(\r\n\t\t'temporaryHistory',\r\n\t\tJSON.stringify([\r\n\t\t\t{\r\n\t\t\t\thistory: [],\r\n\t\t\t},\r\n\t\t])\r\n\t);\r\n}\r\n\r\n// 模拟请求函数\r\nasync function makeRequest() {\r\n\treturn await request('/updateHistory')\r\n\t\t.then((res) => res.json())\r\n\t\t.catch((e) => {\r\n\t\t\tthrow new Error(e);\r\n\t\t});\r\n}\r\n\r\n/**\r\n * 模拟请求API\r\n */\r\n\r\n// 请求history数据\r\nexport async function requestHistory() {\r\n\tawait makeRequest();\r\n\r\n\treturn getHistory();\r\n}\r\n\r\n// 添加history数据\r\nexport async function addHistory(newHistory) {\r\n\tlet { history } = getHistory();\r\n\r\n\tif (checkHasRepeat(newHistory.productIid)) {\r\n\t\tconst res = await removeHistory(newHistory.productIid);\r\n\r\n\t\thistory = res.history;\r\n\t}\r\n\r\n\thistory.unshift(newHistory);\r\n\r\n\treturn await updateHistory(history);\r\n}\r\n\r\n// 删除history数据\r\nexport async function removeHistory(proIid) {\r\n\tconst { history } = getHistory();\r\n\tconst { proIndex } = getProductIndex(proIid);\r\n\r\n\thistory.splice(proIndex, 1);\r\n\r\n\treturn await updateHistory(history);\r\n}\r\n\r\nexport async function registerNewHistory(username) {\r\n\tconst historyStore = getHistoryStore();\r\n\r\n\thistoryStore.push({\r\n\t\tusername,\r\n\t\thistory: [],\r\n\t});\r\n\r\n\treturn await updateHistoryStore(historyStore);\r\n}\r\n\r\n/**\r\n * 工具函数\r\n */\r\n\r\nfunction getHistory() {\r\n\tconst username = getUsername();\r\n\tconst historyStore = getHistoryStore();\r\n\r\n\tfor (const historyIndex in historyStore) {\r\n\t\tconst history = historyStore[historyIndex];\r\n\r\n\t\tif (history.username === username) {\r\n\t\t\treturn {\r\n\t\t\t\thistory: history.history,\r\n\t\t\t\thistoryIndex,\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\tconst temporaryHistory = JSON.parse(\r\n\t\tlocalStorage.getItem('temporaryHistory')\r\n\t);\r\n\r\n\treturn {\r\n\t\thistory: temporaryHistory[0].history,\r\n\t\thistoryIndex: 0,\r\n\t};\r\n}\r\n\r\nfunction getHistoryStore() {\r\n\treturn JSON.parse(localStorage.getItem('historyStore'));\r\n}\r\n\r\nfunction getTemporaryHistory() {\r\n\treturn JSON.parse(localStorage.getItem('temporaryHistory'));\r\n}\r\n\r\nfunction getUsername() {\r\n\treturn localStorage.getItem('username');\r\n}\r\n\r\nfunction checkHasRepeat(proIid) {\r\n\tconst { history } = getHistory();\r\n\r\n\tfor (const proIndex in history) {\r\n\t\tconst pro = history[proIndex];\r\n\r\n\t\tif (Number(pro.productIid) === Number(proIid)) {\r\n\t\t\treturn {\r\n\t\t\t\tpro,\r\n\t\t\t\tproIndex,\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\treturn false;\r\n}\r\n\r\nfunction getProductIndex(proIid) {\r\n\tconst { history } = getHistory();\r\n\r\n\tfor (const proIndex in history) {\r\n\t\tconst pro = history[proIndex];\r\n\r\n\t\tif (Number(pro.productIid) === Number(proIid)) {\r\n\t\t\treturn {\r\n\t\t\t\tpro,\r\n\t\t\t\tproIndex,\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\treturn {};\r\n}\r\n\r\nasync function updateHistory(newHistory) {\r\n\tawait makeRequest();\r\n\r\n\tif (!hasCookie('isLogin')) {\r\n\t\tconst temporaryHistory = getTemporaryHistory();\r\n\r\n\t\ttemporaryHistory[0].history = newHistory;\r\n\r\n\t\tlocalStorage.setItem(\r\n\t\t\t'temporaryHistory',\r\n\t\t\tJSON.stringify(temporaryHistory)\r\n\t\t);\r\n\r\n\t\treturn getHistory();\r\n\t}\r\n\r\n\tconst historyStore = getHistoryStore();\r\n\tconst { historyIndex } = getHistory();\r\n\r\n\thistoryStore[historyIndex].history = newHistory;\r\n\r\n\tlocalStorage.setItem('historyStore', JSON.stringify(historyStore));\r\n\r\n\treturn getHistory();\r\n}\r\n\r\nasync function updateHistoryStore(newHistoryStore) {\r\n\tawait makeRequest();\r\n\r\n\tlocalStorage.setItem('historyStore', JSON.stringify(newHistoryStore));\r\n\r\n\treturn getHistory();\r\n}\r\n","import {\r\n\trequestHistory,\r\n\taddHistory,\r\n\tregisterNewHistory,\r\n} from 'network/history/index.js';\r\n\r\nexport default {\r\n\tnamespaced: true,\r\n\r\n\tstate() {\r\n\t\treturn {\r\n\t\t\thistory: [],\r\n\t\t};\r\n\t},\r\n\tmutations: {\r\n\t\t// 更新本地的history\r\n\t\tupdateHistory(state, newHistory) {\r\n\t\t\tstate.history = newHistory;\r\n\t\t},\r\n\t},\r\n\tactions: {\r\n\t\tasync requestHistory({ commit }) {\r\n\t\t\tconst { history } = await requestHistory();\r\n\r\n\t\t\tcommit('updateHistory', history);\r\n\t\t},\r\n\r\n\t\tasync registerNewHistory({ commit }, [username]) {\r\n\t\t\tconst { history } = await registerNewHistory(username);\r\n\r\n\t\t\tcommit('updateHistory', history);\r\n\t\t},\r\n\r\n\t\t// 添加历史记录\r\n\t\tasync addHistory({ commit }, newHistory) {\r\n\t\t\tconst history = await addHistory(newHistory);\r\n\r\n\t\t\treturn;\r\n\r\n\t\t\tcommit('updateHistory', history);\r\n\t\t},\r\n\t},\r\n\tgetters: {\r\n\t\thistoryLength({ history }) {\r\n\t\t\treturn history.length;\r\n\t\t},\r\n\t},\r\n};\r\n","import { request } from '../index.js';\r\n\r\n/**\r\n * 模拟API\r\n */\r\n\r\nexport async function requestSortList() {\r\n\treturn await request('/sortList')\r\n\t\t.then((res) => res.json())\r\n\t\t.catch((err) => {\r\n\t\t\tthrow new Error(err);\r\n\t\t});\r\n}\r\n\r\nexport async function requestSortContent(index) {\r\n\treturn await request('/sortList')\r\n\t\t.then((res) => res.json())\r\n\t\t.then(({ data }) => data[index].list)\r\n\t\t.catch((err) => {\r\n\t\t\tthrow new Error(err);\r\n\t\t});\r\n}\r\n","import { requestSortList, requestSortContent } from 'network/sort';\r\n\r\nexport default {\r\n\tnamespaced: true,\r\n\r\n\tstate() {\r\n\t\treturn {\r\n\t\t\tsortList: [],\r\n\t\t\tactiveKey: 0,\r\n\t\t};\r\n\t},\r\n\r\n\tmutations: {\r\n\t\tupdateSortList(state, newSortList) {\r\n\t\t\tstate.sortList = newSortList;\r\n\t\t},\r\n\r\n\t\tupdateActiveKey(state, newKey) {\r\n\t\t\tstate.activeKey = newKey;\r\n\t\t},\r\n\t},\r\n\r\n\tactions: {\r\n\t\tasync requestSortList({ commit }) {\r\n\t\t\tconst { data } = await requestSortList();\r\n\r\n\t\t\tcommit('updateSortList', data);\r\n\t\t},\r\n\r\n\t\tasync requestSortContent(c, index) {\r\n\t\t\treturn await requestSortContent(index);\r\n\t\t},\r\n\t},\r\n\r\n\tgetters: {},\r\n};\r\n","import { request } from '../index.js';\r\nimport { hasCookie, removeCookie } from 'common/cookieAPI.js';\r\n\r\nif (!localStorage.getItem('userStore')) {\r\n\tlocalStorage.setItem('userStore', '[]');\r\n\r\n\tif (hasCookie('isLogin')) {\r\n\t\tremoveCookie('isLogin');\r\n\t}\r\n}\r\n\r\n// 模拟请求函数\r\nasync function makeRequest() {\r\n\treturn await request('/updateUserData')\r\n\t\t.then((res) => res.json())\r\n\t\t.catch((e) => {\r\n\t\t\tthrow new Error(e);\r\n\t\t});\r\n}\r\n\r\n/**\r\n * 模拟API\r\n */\r\n\r\nexport async function requestUserData() {\r\n\tawait makeRequest();\r\n\r\n\treturn {\r\n\t\tuserStore: getUserStore(),\r\n\t\tuserList: getUserList(),\r\n\t};\r\n}\r\n\r\nexport async function registerUser(newUserList) {\r\n\tconst userStore = getUserStore();\r\n\r\n\tuserStore.push(\r\n\t\tObject.assign(\r\n\t\t\t{\r\n\t\t\t\tnickname: `京东用户${userStore.length}`,\r\n\t\t\t},\r\n\t\t\tnewUserList\r\n\t\t)\r\n\t);\r\n\r\n\tawait updateUserStore(userStore);\r\n\r\n\treturn getUserList(newUserList.username);\r\n}\r\n\r\n/**\r\n * 工具函数\r\n */\r\n\r\nfunction getUserList(username = getUsername()) {\r\n\tconst userStore = getUserStore();\r\n\r\n\treturn userStore.find((item) => item.username === username) || [];\r\n}\r\n\r\nfunction getUserStore() {\r\n\treturn JSON.parse(localStorage.getItem('userStore'));\r\n}\r\n\r\nfunction getUsername() {\r\n\treturn localStorage.getItem('username');\r\n}\r\n\r\nasync function updateUserStore(newUserStore) {\r\n\tawait makeRequest();\r\n\r\n\tlocalStorage.setItem('userStore', JSON.stringify(newUserStore));\r\n\r\n\treturn getUserList();\r\n}\r\n","import { registerUser, requestUserData } from 'network/userList/index.js';\r\n\r\nexport default {\r\n\tnamespaced: true,\r\n\r\n\tstate() {\r\n\t\treturn {\r\n\t\t\tuserList: [],\r\n\t\t\tuserStore: [],\r\n\t\t};\r\n\t},\r\n\r\n\tmutations: {\r\n\t\tupdateUserList(state, newUserList) {\r\n\t\t\tstate.userList = newUserList;\r\n\t\t},\r\n\r\n\t\tupdateUserStore(state, newUserStore) {\r\n\t\t\tstate.userStore = newUserStore;\r\n\t\t},\r\n\t},\r\n\r\n\tactions: {\r\n\t\t// 初始化请求\r\n\t\tasync requestUserData({ commit }) {\r\n\t\t\tconst { userStore, userList } = await requestUserData();\r\n\r\n\t\t\tcommit('updateUserList', userList);\r\n\t\t\tcommit('updateUserStore', userStore);\r\n\t\t},\r\n\r\n\t\t// 注册新的user信息\r\n\t\tasync registerNewUser({ commit }, newUserList) {\r\n\t\t\tconst userList = await registerUser(newUserList);\r\n\r\n\t\t\tcommit('updateUserList', userList);\r\n\t\t},\r\n\t},\r\n};\r\n","import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\n\r\nVue.use(Vuex);\r\n\r\nimport cartList from './cartList/module.js';\r\nimport product from './product/module.js';\r\nimport login from './login/module.js';\r\nimport collection from './collection/module.js';\r\nimport history from './history/module.js';\r\nimport sort from './sort/module.js';\r\nimport userData from './userData/module.js';\r\n\r\nexport default new Vuex.Store({\r\n\tstate: {\r\n\t\tisLoading: false,\r\n\t},\r\n\tmutations: {\r\n\t\tchangeIsLoading(state, value) {\r\n\t\t\tstate.isLoading = value;\r\n\t\t},\r\n\t},\r\n\tactions: {\r\n\t\t// 改变loading状态 传入回调函数\r\n\t\tasync changeIsLoading({ commit, state: { isLoading } }, fn) {\r\n\t\t\tcommit('changeIsLoading', true);\r\n\r\n\t\t\tawait fn(isLoading);\r\n\r\n\t\t\tcommit('changeIsLoading', false);\r\n\t\t},\r\n\t},\r\n\tgetters: {},\r\n\tmodules: {\r\n\t\tcartList,\r\n\t\tproduct,\r\n\t\tlogin,\r\n\t\tcollection,\r\n\t\thistory,\r\n\t\tsort,\r\n\t\tuserData,\r\n\t},\r\n});\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('router-view',{key:_vm.key}),_c('loading',{attrs:{\"isLoading\":_vm.isLoading}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLoading),expression:\"isLoading\"}],staticClass:\"loading\"},[_c('van-loading',{attrs:{\"color\":\"#ee0a24\",\"size\":\"40\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div v-show=\"isLoading\"\r\n       class=\"loading\">\r\n    <van-loading color=\"#ee0a24\"\r\n                 size=\"40\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    isLoading: {\r\n      type: Boolean,\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n.loading {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  z-index: 999;\r\n  transform: translate(-50%, -50%);\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-content: center;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/style-vw-loader/index.js??ref--0-2!./Loading.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/style-vw-loader/index.js??ref--0-2!./Loading.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Loading.vue?vue&type=template&id=7489d258&scoped=true&\"\nimport script from \"./Loading.vue?vue&type=script&lang=js&\"\nexport * from \"./Loading.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Loading.vue?vue&type=style&index=0&id=7489d258&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7489d258\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <router-view :key=\"key\" />\n    <loading :isLoading=\"isLoading\" />\n  </div>\n</template>\n\n<script>\nimport Loading from 'components/common/Loading/Loading.vue'\n\nimport { createNamespacedHelpers, mapState } from 'vuex'\n\nconst { mapActions: cartListActions } = createNamespacedHelpers('cartList')\nconst { mapActions: historyActions } = createNamespacedHelpers('history')\nconst { mapActions: collectionActions } = createNamespacedHelpers('collection')\nconst { mapActions: loginActions } = createNamespacedHelpers('login')\nconst { mapActions: userListActions } = createNamespacedHelpers('userData')\nconst { mapActions: sortActions } = createNamespacedHelpers('sort')\n\nexport default {\n  components: {\n    Loading,\n  },\n\n  created() {\n    this.initRequst()\n  },\n\n  computed: {\n    ...mapState(['isLoading']),\n\n    key() {\n      return this.$router.path + Math.random()\n    },\n  },\n\n  methods: {\n    ...cartListActions(['requestCartList']),\n    ...historyActions(['requestHistory']),\n    ...collectionActions(['requestCollection']),\n    ...loginActions(['requestLogin']),\n    ...userListActions(['requestUserData']),\n    ...sortActions(['requestSortList']),\n\n    // 初始化数据请求\n    initRequst() {\n      this.requestCartList()\n      this.requestHistory()\n      this.requestCollection()\n      this.requestLogin()\n      this.requestUserData()\n      this.requestSortList()\n    },\n  },\n}\n</script>\n\n<style scoped>\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/style-vw-loader/index.js??ref--0-2!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/style-vw-loader/index.js??ref--0-2!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3663d05a&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3663d05a\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport router from './router';\nimport store from './store';\nimport VueLazyLoad from 'vue-lazyload';\nimport Vant from 'vant';\nimport 'vant/lib/index.css';\nimport 'vant/lib/index.less';\nimport 'assets/css/resetVui.less';\nimport 'assets/css/base.css';\nimport 'assets/font/index.css';\n\nimport App from './App.vue';\n\nVue.config.productionTip = false;\n\nVue.use(Vant);\nVue.use(VueLazyLoad);\n\nVue.prototype.ste = () => {\n\tVue.prototype.$toast('该功能还在开发中......');\n};\n\nnew Vue({\n\trouter,\n\tstore,\n\trender: (h) => h(App),\n}).$mount('#app');\n"],"sourceRoot":""}